<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modo Offline - Manual de Usuario</title>
    <link rel="stylesheet" href="../shared.css">
    <style>
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: #2c3e50;
            color: white;
            overflow-y: auto;
            padding: 2rem 0;
        }

        .sidebar h3 {
            padding: 0 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .sidebar nav a {
            display: block;
            padding: 0.75rem 1.5rem;
            color: #ecf0f1;
            text-decoration: none;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .sidebar nav a:hover {
            background: #34495e;
            border-left-color: #3498db;
        }

        .sidebar nav a.active {
            background: #34495e;
            border-left-color: #3498db;
            font-weight: 600;
        }

        .content {
            margin-left: 280px;
            padding: 2rem 3rem;
            max-width: 900px;
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <h3>üìñ Manual de Usuario</h3>
        <nav>
            <a href="index.html">√çndice</a>
            <a href="introduccion.html">1. Introducci√≥n</a>
            <a href="instalacion.html">2. Instalaci√≥n</a>
            <a href="interfaz.html">3. Interfaz Principal</a>
            <a href="tareas.html">4. Gesti√≥n de Tareas</a>
            <a href="filtros.html">5. Filtros y B√∫squeda</a>
            <a href="notificaciones.html">6. Notificaciones</a>
            <a href="gemelas.html">7. Tareas Gemelas</a>
            <a href="tiempo.html">8. Registro de Tiempo</a>
            <a href="informes.html">9. Informes y M√©tricas</a>
            <a href="offline.html" class="active">10. Modo Offline</a>
            <a href="personalizacion.html">11. Personalizaci√≥n</a>
            <a href="atajos.html">12. Atajos de Teclado</a>
            <a href="faq.html">13. FAQ</a>
        </nav>
    </div>

    <div class="content">
        <h1>10. Modo Offline</h1>

        <h2>10.1 ¬øQu√© es el Modo Offline?</h2>

        <div class="card">
            <h3>Definici√≥n</h3>
            <p>Modo de operaci√≥n cuando no hay conexi√≥n al servidor Redmine. La aplicaci√≥n sigue funcionando con datos
                cacheados localmente.</p>
        </div>

        <div class="card" style="background: #e3f2fd; border-left: 4px solid #2196f3;">
            <h3>üåê Filosof√≠a: Offline-First</h3>
            <p>La aplicaci√≥n est√° dise√±ada para funcionar siempre, incluso sin internet:</p>
            <ul>
                <li>Cach√© inteligente de datos</li>
                <li>Transici√≥n autom√°tica a modo offline</li>
                <li>Acceso a datos recientes</li>
                <li>Recuperaci√≥n autom√°tica al restaurar conexi√≥n</li>
            </ul>
        </div>

        <h2>10.2 Activaci√≥n Autom√°tica</h2>

        <div class="card">
            <h3>Trigger</h3>
            <p>El modo offline se activa autom√°ticamente cuando:</p>
            <ul>
                <li>Falla la conexi√≥n durante un refresh</li>
                <li>El servidor Redmine no responde</li>
                <li>Timeout de conexi√≥n</li>
                <li>Error de red</li>
            </ul>
        </div>

        <div class="card">
            <h3>Indicadores Visuales</h3>
            <ul>
                <li><strong>Etiqueta roja</strong> en encabezado: "MODO OFFLINE (S√ìLO LECTURA)"</li>
                <li><strong>Botones deshabilitados</strong> para operaciones de escritura</li>
                <li><strong>Mensaje en log</strong> indicando entrada en modo offline</li>
                <li><strong>Bot√≥n "Reintentar Conexi√≥n"</strong> visible</li>
            </ul>
        </div>

        <h2>10.3 Funcionalidades Disponibles</h2>

        <div class="card" style="background: #e8f5e9; border-left: 4px solid #27ae60;">
            <h3>‚úÖ Permitido (Solo Lectura)</h3>
            <ul>
                <li>Ver lista de tareas (√∫ltima versi√≥n cacheada)</li>
                <li>Ver detalles de tareas</li>
                <li>Buscar y filtrar tareas</li>
                <li>Ordenar columnas</li>
                <li>Ver adjuntos (si est√°n en cach√©)</li>
                <li>Leer notas y comentarios</li>
                <li>Ver historial de cambios</li>
                <li>Navegar entre pesta√±as</li>
            </ul>
        </div>

        <div class="card" style="background: #ffebee; border-left: 4px solid #e74c3c;">
            <h3>‚ùå No Permitido (Operaciones de Escritura)</h3>
            <ul>
                <li>Crear tareas</li>
                <li>Editar tareas</li>
                <li>Eliminar tareas</li>
                <li>Registrar tiempo</li>
                <li>Subir adjuntos</li>
                <li>Actualizar wiki</li>
                <li>Cambiar estados</li>
                <li>Asignar tareas</li>
            </ul>
        </div>

        <h2>10.4 Cach√© de Datos</h2>

        <div class="card">
            <h3>Duraci√≥n del Cach√©</h3>
            <table>
                <tr>
                    <th>Tipo de Dato</th>
                    <th>TTL (Tiempo de Vida)</th>
                </tr>
                <tr>
                    <td>Tareas</td>
                    <td>5 minutos</td>
                </tr>
                <tr>
                    <td>Detalles de tarea</td>
                    <td>2 minutos</td>
                </tr>
                <tr>
                    <td>Metadatos (estados, prioridades, usuarios)</td>
                    <td>30 minutos</td>
                </tr>
                <tr>
                    <td>Entradas de tiempo</td>
                    <td>10 minutos</td>
                </tr>
                <tr>
                    <td>P√°ginas wiki</td>
                    <td>15 minutos</td>
                </tr>
            </table>
        </div>

        <div class="card">
            <h3>Actualizaci√≥n de Cach√©</h3>
            <p>El cach√© se actualiza autom√°ticamente:</p>
            <ul>
                <li>Cada vez que refrescas datos (F5)</li>
                <li>Seg√∫n el intervalo de refresh configurado</li>
                <li>Al realizar operaciones de escritura</li>
            </ul>
        </div>

        <h2>10.5 Recuperaci√≥n de Conexi√≥n</h2>

        <div class="card">
            <h3>M√©todo 1: Autom√°tico</h3>
            <p>La aplicaci√≥n reintenta conexi√≥n peri√≥dicamente:</p>
            <ul>
                <li>Cada 30 segundos intenta reconectar</li>
                <li>Al recuperar conexi√≥n, sale de modo offline autom√°ticamente</li>
                <li>Actualiza datos con versi√≥n m√°s reciente del servidor</li>
                <li>Indicador rojo desaparece</li>
            </ul>
        </div>

        <div class="card">
            <h3>M√©todo 2: Manual</h3>
            <p>Puedes forzar reintento de conexi√≥n:</p>
            <ol>
                <li>Click en bot√≥n "Reintentar Conexi√≥n"</li>
                <li>O presiona F5 para refresh manual</li>
                <li>Si conexi√≥n exitosa, modo offline se desactiva</li>
                <li>Si falla, permanece en modo offline</li>
            </ol>
        </div>

        <h2>10.6 Sincronizaci√≥n Post-Recuperaci√≥n</h2>

        <div class="card">
            <h3>¬øQu√© Pasa al Recuperar Conexi√≥n?</h3>
            <ul>
                <li>Cach√© se actualiza con datos frescos del servidor</li>
                <li>No hay conflictos (modo offline es solo lectura)</li>
                <li>Cambios realizados por otros se reflejan inmediatamente</li>
                <li>Operaciones de escritura vuelven a estar disponibles</li>
            </ul>
        </div>

        <div class="alert alert-info">
            <h3>üí° No Hay P√©rdida de Datos</h3>
            <p>Como el modo offline es solo lectura, no hay riesgo de conflictos o p√©rdida de datos al recuperar
                conexi√≥n.</p>
        </div>

        <h2>10.7 Mejores Pr√°cticas</h2>

        <div class="card">
            <h3>Para Trabajo Offline Planificado</h3>
            <ol>
                <li><strong>Antes de desconectar:</strong> Refresca datos (F5) para tener cach√© actualizado</li>
                <li><strong>Durante offline:</strong> Usa la aplicaci√≥n normalmente para consultar</li>
                <li><strong>Al reconectar:</strong> Refresca inmediatamente para sincronizar</li>
            </ol>
        </div>

        <div class="card">
            <h3>Limitaciones a Considerar</h3>
            <ul>
                <li>Solo tienes acceso a datos cacheados recientemente</li>
                <li>Tareas muy antiguas pueden no estar disponibles</li>
                <li>Adjuntos grandes pueden no estar en cach√©</li>
                <li>No puedes realizar cambios hasta recuperar conexi√≥n</li>
            </ul>
        </div>

        <div class="alert alert-warning">
            <h3>‚ö†Ô∏è Nota Importante</h3>
            <p>Si necesitas trabajar offline frecuentemente, considera:</p>
            <ul>
                <li>Aumentar el l√≠mite de tareas en configuraci√≥n</li>
                <li>Reducir el intervalo de refresh para cach√© m√°s frecuente</li>
                <li>Descargar tareas importantes a escritorio antes de desconectar</li>
            </ul>
        </div>

        <div class="alert alert-success">
            <h3>‚úÖ Ventajas del Modo Offline</h3>
            <ul>
                <li>Contin√∫a trabajando sin interrupciones</li>
                <li>Consulta informaci√≥n reciente sin conexi√≥n</li>
                <li>No pierdes productividad por problemas de red</li>
                <li>Ideal para trabajo en movimiento o √°reas sin cobertura</li>
            </ul>
        </div>

        <div
            style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #e1e8ed; display: flex; justify-content: space-between;">
            <a href="informes.html" class="btn" style="background: #95a5a6;">‚Üê Anterior: Informes</a>
            <a href="personalizacion.html" class="btn">Siguiente: Personalizaci√≥n ‚Üí</a>
        </div>
    </div>
</body>

</html>